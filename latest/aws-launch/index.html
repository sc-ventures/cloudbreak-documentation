<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <link rel="canonical" href="http://hortonworks.github.io/cloudbreak-documentation/aws-launch/index.html"> 
    <link rel="shortcut icon" href="../images/favicon.png">

    <title>Launch on AWS - Cloudbreak</title>

    <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.018/css/hack.min.css">
    <link href='//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../css/base.css" rel="stylesheet">
    <link href="../css/cinder.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/highlight.css">


    <link href="../css/extra.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
    <script>
    WebFont.load({
        google: {
            families: ['Open Sans', 'PT Sans']
        }
    });
    </script>

    
    <script>
    (function(i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function() {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-22950817-24', 'auto');
    ga('send', 'pageview');
    </script>
    
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../index.html">Cloudbreak</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Intro <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../index.html">Introduction</a>
</li>

                        
                            
<li >
    <a href="../architecture/index.html">Architecture</a>
</li>

                        
                            
<li >
    <a href="../concepts/index.html">Core concepts</a>
</li>

                        
                            
<li >
    <a href="../deployment-options/index.html">Deployment options</a>
</li>

                        
                            
<li >
    <a href="../security/index.html">Security overview</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Quickstart <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../aws-quick/index.html">Quickstart on AWS</a>
</li>

                        
                            
<li >
    <a href="../azure-quick/index.html">Quickstart on Azure</a>
</li>

                        
                            
<li >
    <a href="../gcp-quick/index.html">Quickstart on GCP</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">AWS <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../aws-pre/index.html">Prerequisites</a>
</li>

                        
                            
<li class="active">
    <a href="index.html">Launch on AWS</a>
</li>

                        
                            
<li >
    <a href="../aws-create/index.html">Create a cluster</a>
</li>

                        
                            
<li >
    <a href="../aws-data/index.html">Configure access to S3</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Azure <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../azure-pre/index.html">Prerequisites</a>
</li>

                        
                            
<li >
    <a href="../azure-launch/index.html">Launch on Azure</a>
</li>

                        
                            
<li >
    <a href="../azure-create/index.html">Create a cluster</a>
</li>

                        
                            
<li >
    <a href="../azure-data-adls/index.html">Configure access to ADLS</a>
</li>

                        
                            
<li >
    <a href="../azure-data-wasb/index.html">Configure access to WASB</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">GCP <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../gcp-pre/index.html">Prerequisites</a>
</li>

                        
                            
<li >
    <a href="../gcp-launch/index.html">Launch on GCP</a>
</li>

                        
                            
<li >
    <a href="../gcp-create/index.html">Create a cluster</a>
</li>

                        
                            
<li >
    <a href="../gcp-data/index.html">Configure access to GCS</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">OpenStack <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../os-pre/index.html">Prerequisites</a>
</li>

                        
                            
<li >
    <a href="../os-launch/index.html">Launch on OpenStack</a>
</li>

                        
                            
<li >
    <a href="../os-create/index.html">Create a cluster</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Using Cloudbreak <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Advanced cluster options</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../gateway/index.html">Configure the gateway</a>
</li>

        
            
<li >
    <a href="../blueprints/index.html">Use custom blueprints</a>
</li>

        
            
<li >
    <a href="../recipes/index.html">Use custom scripts (recipes)</a>
</li>

        
            
<li >
    <a href="../mpacks/index.html">Use management packs</a>
</li>

        
            
<li >
    <a href="../images/index.html">Use custom images</a>
</li>

        
            
<li >
    <a href="../tags/index.html">Tag resources</a>
</li>

        
            
<li >
    <a href="../properties/index.html">Set custom properties</a>
</li>

        
            
<li >
    <a href="../security-kerberos/index.html">Enable Kerberos security</a>
</li>

        
            
<li >
    <a href="../autoscaling/index.html">Configure autoscaling</a>
</li>

        
            
<li >
    <a href="../external-db/index.html">Register external database</a>
</li>

        
            
<li >
    <a href="../external-ldap/index.html">Register external authentication source</a>
</li>

        
            
<li >
    <a href="../external-proxy/index.html">Register proxy configuration</a>
</li>

        
            
<li >
    <a href="../hostnames/index.html">Use custom hostnames based on DNS</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Advanced Cloudbreak options</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../cb-credentials/index.html">Manage Cloudbreak credentials</a>
</li>

        
            
<li >
    <a href="../cb-migrate/index.html">Move Cloudbreak instance</a>
</li>

        
            
<li >
    <a href="../cb-ldap/index.html">Configure LDAP/AD authentication for Cloudbreak</a>
</li>

        
            
<li >
    <a href="../security-cb-ssl/index.html">Add SSL certificate for Cloudbreak UI</a>
</li>

        
            
<li >
    <a href="../cb-proxy/index.html">Configure outbound internet access and proxy</a>
</li>

        
            
<li >
    <a href="../security-cb-inbound/index.html">Restrict inbound access to clusters</a>
</li>

        
            
<li >
    <a href="../security-cb-customdom/index.html">Configure access from custom domains</a>
</li>

        
            
<li >
    <a href="../cb-db/index.html">Configure external Cloudbreak database</a>
</li>

        
            
<li >
    <a href="../cb-disable-provider/index.html">Disable providers</a>
</li>

        
            
<li >
    <a href="../cb-ports/index.html">Change default Cloudbreak ports</a>
</li>

        
            
<li >
    <a href="../cb-email/index.html">Set up email notifications</a>
</li>

        
            
<li >
    <a href="../cb-profile/index.html">Modify settings in Cloudbreak Profile</a>
</li>

        
            
<li >
    <a href="../os-image-import/index.html">Manually import HDP and HDF images to OpenStack</a>
</li>

        
    </ul>
  </li>

                        
                            
<li >
    <a href="../hdf/index.html">Creating an HDF cluster</a>
</li>

                        
                            
<li >
    <a href="../data-lake/index.html">Setting up a data lake</a>
</li>

                        
                            
<li >
    <a href="../clusters-access/index.html">Accessing a cluster</a>
</li>

                        
                            
<li >
    <a href="../clusters-manage/index.html">Managing clusters</a>
</li>

                        
                            
<li >
    <a href="../hive/index.html">Accessing Hive via JDBC</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Cloudbreak CLI</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../cli-install/index.html">Install the CLI</a>
</li>

        
            
<li >
    <a href="../cli-get-started/index.html">Get started with the CLI</a>
</li>

        
            
<li >
    <a href="../cli-reference/index.html">CLI Reference</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Troubleshooting</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../trouble-cb-logs/index.html">Cloudbreak logs</a>
</li>

        
            
<li >
    <a href="../trouble-cb/index.html">Troubleshooting Cloudbreak</a>
</li>

        
            
<li >
    <a href="../trouble-cluster/index.html">Troubleshooting cluster creation</a>
</li>

        
            
<li >
    <a href="../trouble-aws/index.html">Troubleshooting AWS</a>
</li>

        
            
<li >
    <a href="../trouble-azure/index.html">Troubleshooting Azure</a>
</li>

        
            
<li >
    <a href="../trouble-gcp/index.html">Troubleshooting GCP</a>
</li>

        
            
<li >
    <a href="../trouble-cli/index.html">Troubleshooting Cloudbreak CLI</a>
</li>

        
    </ul>
  </li>

                        
                            
<li >
    <a href="../cb-upgrade/index.html">Upgrade Cloudbreak</a>
</li>

                        
                            
<li >
    <a href="../cb-delete/index.html">Delete Cloudbreak</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">More <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../releasenotes/index.html">Release Notes</a>
</li>

                        
                            
<li >
    <a href="../faq/index.html">FAQs</a>
</li>

                        
                            
<li >
    <a href="../dev/index.html">Developer documentation links</a>
</li>

                        
                            
<li >
    <a href="../get-help/index.html">Getting help</a>
</li>

                        
                            
<li >
    <a href="../smartsense/index.html">SmartSense telemetry</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Legal</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../acknowledge/index.html">Acknowledgements</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                
                    <li >
                        <a rel="next" href="../aws-pre/index.html">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../aws-create/index.html">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
                    <li>
                        <a href="https://github.com/hortonworks/cloudbreak-documentation">
                            
                                <i class="fa fa-github"></i>
                            
                            GitHub
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="first-level active"><a href="#launching-cloudbreak-on-aws">Launching Cloudbreak on AWS</a></li>
        
            <li class="second-level"><a href="#vm-requirements">VM requirements</a></li>
            
                <li class="third-level"><a href="#system-requirements">System requirements</a></li>
            
                <li class="third-level"><a href="#root-access">Root access</a></li>
            
                <li class="third-level"><a href="#system-updates">System updates</a></li>
            
                <li class="third-level"><a href="#install-iptables">Install iptables</a></li>
            
                <li class="third-level"><a href="#disable-selinux">Disable SELINUX</a></li>
            
                <li class="third-level"><a href="#install-docker">Install Docker</a></li>
            
        
            <li class="second-level"><a href="#install-cloudbreak-on-a-vm">Install Cloudbreak on a VM</a></li>
            
        
            <li class="second-level"><a href="#access-cloudbreak-web-ui">Access Cloudbreak web UI</a></li>
            
        
            <li class="second-level"><a href="#configure-external-cloudbreak-database">Configure external Cloudbreak database</a></li>
            
        
            <li class="second-level"><a href="#create-cloudbreak-credential">Create Cloudbreak credential</a></li>
            
                <li class="third-level"><a href="#create-key-based-credential">Create key-based credential</a></li>
            
                <li class="third-level"><a href="#create-role-based-credential">Create role-based credential</a></li>
            
        
    
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<h2 id="launching-cloudbreak-on-aws">Launching Cloudbreak on AWS</h2>
<p>These steps describe how to launch Cloudbreak on AWS for production. 
Before launching Cloudbreak on AWS, review and meet the AWS-specific <a href="../aws-pre/index.html">prerequisites</a>. Next, follow the steps below.  </p>
<h3 id="vm-requirements">VM requirements</h3>
<p>To launch the Cloudbreak deployer and install the Cloudbreak application, you must have an existing VM. </p>
<h4 id="system-requirements">System requirements</h4>
<p>Your system must meet the following requirements:</p>
<ul>
<li>Minimum VM requirements: 16GB RAM, 40GB disk, 4 cores</li>
<li>Supported operating systems: RHEL, CentOS, and Oracle Linux 7 (64-bit)</li>
</ul>
<blockquote>
<p>You can install Cloudbreak on Mac OS X for evaluation purposes only. Mac OS X is not supported for a production deployment of Cloudbreak.</p>
</blockquote>
<h4 id="root-access">Root access</h4>
<p>Every command must be executed as root. In order to get root privileges execute:</p>
<pre>sudo -i</pre>

<h4 id="system-updates">System updates</h4>
<p>Ensure that your system is up-to-date by executing:</p>
<pre>yum -y update</pre>

<p>Reboot it if necessary.</p>
<h4 id="install-iptables">Install iptables</h4>
<p>Perform these steps to install and configure iptables.</p>
<p><strong>Steps</strong> </p>
<ol>
<li>
<p>Install iptables-services:</p>
<p><pre>yum -y install net-tools ntp wget lsof unzip tar iptables-services
systemctl enable ntpd &amp;&amp; systemctl start ntpd
systemctl disable firewalld &amp;&amp; systemctl stop firewalld</pre></p>
<blockquote>
<p>Without iptables-services installed the <code>iptables save</code> command will not be available.</p>
</blockquote>
</li>
<li>
<p>Configure permissive iptables on your machine:</p>
<p><pre>iptables --flush INPUT &amp;&amp; \
iptables --flush FORWARD &amp;&amp; \
service iptables save</pre></p>
</li>
</ol>
<h4 id="disable-selinux">Disable SELINUX</h4>
<p>Perform these steps to disable SELINUX.</p>
<p><strong>Steps</strong> </p>
<ol>
<li>
<p>Disable SELINUX:</p>
<p><pre>setenforce 0
sed -i 's/SELINUX=enforcing/SELINUX=disabled/g' 
/etc/selinux/config</pre></p>
</li>
<li>
<p>Run the following command to ensure that SELinux is not turned on afterwards: </p>
<p><pre>getenforce</pre></p>
</li>
<li>
<p>The command should return "Disabled".     </p>
</li>
</ol>
<h4 id="install-docker">Install Docker</h4>
<p>Perform these steps to install Docker. The minimum Docker version is 1.13.1. If you are using an older image that comes with an older Docker version, upgrade Docker to 1.13.1 or newer. </p>
<p><strong>Steps</strong>    </p>
<ol>
<li>
<p>Install Docker service:</p>
<p><pre>yum install -y docker
systemctl start docker
systemctl enable docker</pre></p>
</li>
<li>
<p>Check the Docker Logging Driver configuration:</p>
<p><pre>docker info | grep "Logging Driver"</pre></p>
</li>
<li>
<p>If it is set to <code>Logging Driver: journald</code>, you must  set it to "json-file" instead. To do that:</p>
<ol>
<li>
<p>Open the <code>docker</code> file for editing:</p>
<p><pre>vi /etc/sysconfig/docker</pre>  </p>
</li>
<li>
<p>Edit the following part of the file so that it looks like below (showing <code>log-driver=json-file</code>):</p>
<p><pre># Modify these options if you want to change the way the docker daemon runs
OPTIONS='--selinux-enabled --log-driver=json-file --signature-verification=false'</pre>     </p>
</li>
<li>
<p>Restart Docker:</p>
<p><pre>systemctl restart docker
systemctl status docker</pre></p>
</li>
</ol>
</li>
</ol>
<h3 id="install-cloudbreak-on-a-vm">Install Cloudbreak on a VM</h3>
<p>Install Cloudbreak using the following steps.</p>
<p><strong>Steps</strong></p>
<ol>
<li>
<p>Install the Cloudbreak deployer and unzip the platform-specific single binary to your PATH. For example:</p>
<p><pre>yum -y install unzip tar
curl -Ls public-repo-1.hortonworks.com/HDP/cloudbreak/cloudbreak-deployer_2.7.0_$(uname)_x86_64.tgz | sudo tar -xz -C /bin cbd
cbd --version</pre></p>
<p>Once the Cloudbreak deployer is installed, you can set up the Cloudbreak application.</p>
</li>
<li>
<p>Create a Cloudbreak deployment directory and navigate to it:</p>
<p><pre>mkdir cloudbreak-deployment
cd cloudbreak-deployment</pre></p>
</li>
<li>
<p>In the directory, create a file called <code>Profile</code> with the following content:</p>
<p><pre>export UAA_DEFAULT_SECRET=MY-SECRET
export UAA_DEFAULT_USER_PW=MY-PASSWORD
export UAA_DEFAULT_USER_EMAIL=MY-EMAIL
export PUBLIC_IP=MY_VM_IP</pre></p>
<p>For example:</p>
<p><pre>export UAA_DEFAULT_SECRET=MySecret123
export UAA_DEFAULT_USER_PW=MySecurePassword123
export UAA_DEFAULT_USER_EMAIL=dbialek@hortonworks.com
export PUBLIC_IP=172.26.231.100</pre></p>
<p>You will need to provide the email and password when logging in to the Cloudbreak web UI and when using the Cloudbreak CLI. The secret will be used by Cloudbreak for authentication.</p>
<p>You should set the CLOUDBREAK_SMTP_SENDER_USERNAME variable to the username you use to authenticate to your SMTP server. You should set the CLOUDBREAK_SMTP_SENDER_PASSWORD variable to the password you use to authenticate to your SMTP server.</p>
</li>
<li>
<p>Generate configurations by executing:</p>
<p><pre>rm *.yml
cbd generate</pre>   </p>
<p>The cbd start command includes the cbd generate command which applies the following steps:</p>
<ul>
<li>Creates the <code>docker-compose.yml</code> file, which describes the configuration of all the Docker containers required for the Cloudbreak deployment.  </li>
<li>Creates the <code>uaa.yml</code> file, which holds the configuration of the identity server used to authenticate users with Cloudbreak.   </li>
</ul>
</li>
<li>
<p>Start the Cloudbreak application by using the following commands:</p>
<p><pre>cbd pull-parallel
cbd start</pre></p>
<p>This will start the Docker containers and initialize the application. The first time you start the Cloudbreak app, the process will take longer than usual due to the download of all the necessary docker images.</p>
<blockquote>
<p>If you encounter errors during <code>cbd start</code>, refer to <a href="../trouble-cb/index.html">Toubleshooting</a>.  </p>
</blockquote>
</li>
<li>
<p>Next, check Cloudbreak application logs:</p>
<p><pre>cbd logs cloudbreak</pre></p>
<p>You should see a message like this in the log: <code>Started CloudbreakApplication in 36.823 seconds.</code> Cloudbreak normally takes less than a minute to start.</p>
</li>
</ol>
<p><strong>Related links</strong><br />
<a href="../trouble-cb/index.html">Toubleshooting</a>   </p>
<h3 id="access-cloudbreak-web-ui">Access Cloudbreak web UI</h3>
<p>Log in to the Cloudbreak UI using the following steps.</p>
<p><strong>Steps</strong> </p>
<ol>
<li>
<p>You can log into the Cloudbreak application at <code>https://IP_Address</code>. For example <code>https://34.212.141.253</code>. You may use <code>cbd start</code> to obtain the login information. Alternatively, you can obtain the VM's IP address from your cloud provider console. </p>
</li>
<li>
<p>Confirm the security exception to proceed to the Cloudbreak web UI.</p>
<p>The first time you access Cloudbreak UI, Cloudbreak will automatically generate a self-signed certificate, due to which your browser will warn you about an untrusted connection and will ask you to confirm a security exception.</p>
<table>
<thead>
<tr>
<th>Browser</th>
<th>Steps</th>
</tr>
</thead>
<tbody>
<tr>
<td>Firefox</td>
<td>Click <strong>Advanced</strong> &gt; Click <strong>Add Exception...</strong> &gt; Click <strong>Confirm Security Exception</strong></td>
</tr>
<tr>
<td>Safari</td>
<td>Click <strong>Continue</strong></td>
</tr>
<tr>
<td>Chrome</td>
<td>Click <strong>Advanced</strong> &gt; Click <strong>Proceed...</strong></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>The login page is displayed:</p>
<p><a href="../images/cb_cb-ui.png" target="_blank" title="click to enlarge"><img src="../images/cb_cb-ui.png" width="650" title="Cloudbreak web UI"></a>  </p>
</li>
<li>
<p>Log in to the Cloudbreak web UI using the credentials that you configured in your <code>Profile</code> file:</p>
<ul>
<li>The username is the <code>UAA_DEFAULT_USER_EMAIL</code>     </li>
<li>The password is the <code>UAA_DEFAULT_USER_PW</code> </li>
</ul>
</li>
<li>
<p>Upon a successful login, you are redirected to the dashboard:</p>
<p><a href="../images/cb_cb-ui1.png" target="_blank" title="click to enlarge"><img src="../images/cb_cb-ui1.png" width="650" title="Cloudbreak web UI"></a>  </p>
</li>
</ol>
<h3 id="configure-external-cloudbreak-database">Configure external Cloudbreak database</h3>
<p>By default, Cloudbreak uses an embedded PostgreSQL database to persist data related to Cloudbreak configuration, setup, and so on. For a production Cloudbreak deployment, you must <a href="../cb-db/index.html">configure an external database</a>.</p>
<p><strong>Related links</strong><br />
<a href="../cb-db/index.html">Configure an external database</a>  </p>
<h3 id="create-cloudbreak-credential">Create Cloudbreak credential</h3>
<p>Before you can start creating clusters, you must first create a <a href="../concepts/index.html#cloudbreak-credential">Cloudbreak credential</a>. Without this credential, you will not be able to create clusters via Cloudbreak. </p>
<p>As part of the prerequisites, you had two options to allow Cloudbreak to authenticate with AWS and create resources on your behalf: key-based or role-based <a href="../aws-pre/index.html#authentication">authentication</a>. Depending on your choice, you must configure a key-based or role-based credential: </p>
<ul>
<li><a href="#create-key-based-credential">Create key-based credential</a>  </li>
<li><a href="#create-role-based-credential">Create role-based credential</a></li>
</ul>
<h4 id="create-key-based-credential">Create key-based credential</h4>
<p>Follow these steps to create a key-based Cloudbreak credential. </p>
<p><strong>Prerequisites</strong></p>
<p>In order to use the key-based Cloudbreak credential: </p>
<ul>
<li>
<p>You must have an access key and secret key. For information on how to generate it, refer to <a href="../aws-pre/index.html#option-1-use-key-based-authentication">Use key-based authentication</a>.  </p>
</li>
<li>
<p>Your AWS user must have the minimum permissions described in <a href="../aws-pre/index.html#create-credentialrole">Create CredentialRole</a> as well as the permission to create an IAM role. </p>
</li>
</ul>
<p>If you are unable to obtain these permissions for your AWS user, you must use <a href="../aws-pre/index.html#option-2-configure-role-based-authentication">role-based authentication</a> instead of key-based authentication. If you would like to review both options, refer to <a href="../aws-pre/index.html#authentication">Authentication</a>. </p>
<p><strong>Steps</strong></p>
<ol>
<li>
<p>In the Cloudbreak web UI, select <strong>Credentials</strong> from the navigation pane. </p>
</li>
<li>
<p>Click <strong>Create Credential</strong>. </p>
</li>
<li>
<p>Under <strong>Cloud provider</strong>, select "Amazon Web Services":</p>
<p><a href="../images/cb_cb-aws-cred-key.png" target="_blank" title="click to enlarge"><img src="../images/cb_cb-aws-cred-key.png" width="650" title="Cloudbreak web UI"></a>  </p>
</li>
<li>
<p>Provide the following information:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Select Credential Type</td>
<td>Select <strong>Key Based</strong>.</td>
</tr>
<tr>
<td>Name</td>
<td>Enter a name for your credential.</td>
</tr>
<tr>
<td>Description</td>
<td>(Optional) Enter a description.</td>
</tr>
<tr>
<td>Access Key</td>
<td>Paste your access key.</td>
</tr>
<tr>
<td>Secret Access Key</td>
<td>Paste your secret key.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Click <strong>Create</strong>.</p>
</li>
<li>
<p>Your credential should now be displayed in the <strong>Credentials</strong> pane.</p>
<p>Congratulations! You've successfully launched Cloudbreak and create a Cloudbreak credential. Now you can start creating clusters. </p>
</li>
</ol>
<p><strong>Related links</strong> <br />
<a href="../aws-pre/index.html#authentication">Authentication</a><br />
<a href="../aws-pre/index.html#option-1-use-key-based-authentication">Use key-based authentication</a>  <br />
<a href="../aws-pre/index.html#option-2-configure-role-based-authentication">Use role-based authentication</a>   <br />
<a href="../aws-pre/index.html#create-credentialrole">Create CredentialRole</a>   </p>
<h4 id="create-role-based-credential">Create role-based credential</h4>
<p>Follow these steps to create a role-based Cloudbreak credential. </p>
<p><strong>Prerequisites</strong></p>
<p>To perform these steps, you must know the <strong>IAM Role ARN</strong> corresponding to the "<a href="../aws-pre/index.html#create-credentialrole">CredentialRole</a>" (configured as part of the prerequisites).   </p>
<p><strong>Steps</strong></p>
<ol>
<li>
<p>In the Cloudbreak web UI, select <strong>Credentials</strong> from the navigation pane. </p>
</li>
<li>
<p>Click <strong>Create Credential</strong>. </p>
</li>
<li>
<p>Under <strong>Cloud provider</strong>, select "Amazon Web Services":</p>
<p><a href="../images/cb_cb-aws-cred-role.png" target="_blank" title="click to enlarge"><img src="../images/cb_cb-aws-cred-role.png" width="650" title="Cloudbreak web UI"></a>  </p>
</li>
<li>
<p>Provide the following information:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Select Credential Type</td>
<td>Select <strong>Role Based</strong> (default value).</td>
</tr>
<tr>
<td>Name</td>
<td>Enter a name for your credential.</td>
</tr>
<tr>
<td>Description</td>
<td>(Optional) Enter a description.</td>
</tr>
<tr>
<td>IAM Role ARN</td>
<td>Paste the IAM Role ARN corresponding to the "CredentialRole" that you created earlier. For example <code>arn:aws:iam::315627065446:role/CredentialRole</code> is a valid IAM Role ARN.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Click <strong>Create</strong>.</p>
</li>
<li>
<p>Your credential should now be displayed in the <strong>Credentials</strong> pane.</p>
<p>Congratulations! You have successfully launched Cloudbreak and created a Cloudbreak credential. Now you can use Cloudbreak to create clusters. </p>
</li>
</ol>
<p><strong>Related links</strong><br />
<a href="../aws-pre/index.html#create-credentialrole">Create CredentialRole</a>        </p>
<div class="next">
<a href="../aws-create/index.html">Next: Create a Cluster</a>
</div></div>
        
    </div>

    <footer class="col-md-12 text-center">
        <hr>
        <p>
        <small>© 2011-2018 <a href="http://www.hortonworks.com" target="_blank">Hortonworks Inc</a>. All Rights Reserved. | <a href="http://hortonworks.com/privacy-policy/" target="_blank">Privacy Policy</a><br></small>
        
        <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p></small>
    </footer>

    <script src="../js/jquery-1.10.2.min.js"></script>
    <script src="../js/bootstrap-3.0.3.min.js"></script>
    <script src="../js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>
    var base_url = '..';
    </script>
    <script data-main="../mkdocs/js/search.js" src="../mkdocs/js/require.js"></script>
    <script src="../js/base.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>

    </body>

</html>
